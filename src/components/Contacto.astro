---
import email_icon from "../img/email_icon.svg";
import figma_icon from "../img/figma_icon.svg";
import github_icon from "../img/github_icon.svg";
import linkedin_icon from "../img/linkedin_icon.svg";
---


<div class="container py-32">
  <div
    class="w-full flex lg:flex-row flex-col gap-20 lg:items-center justify-between"
  >
    
    <article class="lg:w-4/12 w-full flex flex-col sm:gap-10 gap-8">
      <div>
        <h2
          class="2xl:text-8xl xl:text-7xl lg:text-6xl sm:text-6xl text-4xl font-bold  text-dark dark:text-light relative z-20"
        >
          Alguna Duda?
        </h2>
        <p class=" text-dark-light dark:text-light-dark mt-7">
          Pongamonos en contacto, y resolvamos ese problema, te parece?
        </p>
      </div>
      <div class="[&>img]:h-20 [&>img]:w-auto [&>img]:brightness-0 [&>img]:invert [&>img]:justify-self-center [&>img]:opacity-80">
        <img src={email_icon} alt="">
        <img src={linkedin_icon} alt="">
        <img src={github_icon} alt="">
        <img src={figma_icon} alt="">
      </div>
      <div class="mt-5 flex sm:gap-5 gap-8">
        <a
          href="https://www.linkedin.com/in/matias-gomez-676ab3230/"
          rel="external"
          target="_blank"
          class="hover:ring-violeta hover:text-violeta transition-colors ring-2 ring-grey px-6 rounded-3xl py-3 xl:text-2xl lg:text-xl md:text-lg text-base font-medium text-grey-text"
          >LinkedIn</a
        >
        <a
          href="https://github.com/gomez-matias"
          rel="external"
          target="_blank"
          class="hover:ring-celeste hover:text-celeste transition-colors ring-2 ring-grey px-6 rounded-3xl py-3 xl:text-2xl lg:text-xl md:text-lg text-base font-medium text-grey-text"
          >GitHub</a
        >
      </div>
    </article>
    <div class="lg:w-8/12 w-full">
      <form id="form">
        <div
          class="flex flex-col font-light [&>div>input]:dark:text-light-dark [&>div>input]:text-dark-light [&>div>textarea]:dark:text-light-dark [&>div>textarea]:text-dark-light [&>div>label]:dark:text-light-dark [&>div>label]:text-dark-light gap-y-8 gap-x-10 [&>div>input]:ring-1 [&>div>input]:dark:ring-grey [&>div>input]:ring-dark-light [&>div>input]:bg-transparent [&>div>textarea]:bg-transparent"
        >
          <div class="flex flex-col gap-2">
            <label
              class="md:text-lg sm:text-base text-sm font-medium"
              for="nombre">Nombre</label
            >
            <input
              class="px-2 py-4 h-12"
              id="nombre"
              name="nombre"
              type="text"
            />
          </div>
          <div class="flex flex-col gap-2">
            <label
              class="md:text-lg sm:text-base text-sm font-medium"
              for="email">Email</label
            >
            <input
              class="px-2 py-4 h-12"
              id="email"
              name="email"
              type="email"
            />
          </div>
          <div class="flex flex-col gap-2 col-span-2">
            <label
              class="md:text-lg sm:text-base text-sm font-medium"
              for="mensaje">Mensaje</label
            >
            <textarea
              name="mensaje"
              id="mensaje"
              cols="30"
              rows="10"
              class="p-2 h-36 ring-1 dark:ring-grey ring-dark-light"></textarea>
          </div>
          <div>
            <button
              type="submit"
              id="btnEnviarForm"
              name="Enviar Mensaje"
              class="relative z-20 sm:px-20 sm:py-4 py-4 leading-none text-light font-regular text-lg leading-0 subpixel-antialiased w-full flex gap-2 items-center justify-center overflow-hidden"
            >
              <span class="fondo_boton_contacto"></span>
              <span class="relative z-20"> Enviar Mensaje</span>
              <svg
                class="h-6 relative z-20"
                width="31"
                height="30"
                viewBox="0 0 31 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M30.0075 0L0 12L11.195 17.0625L27.0075 3L12.945 18.8125L18.0075 30L30.0075 0Z"
                  fill="#FCFEFF"></path>
              </svg>
            </button>
          </div>
          <div
            class="enviado mt-2 font-regular text-xl"
            id="enviado"
            aria-roledescription="Indicador del Estado del Mensaje Enviado"
          >
            <span>Enviando Mensaje....</span>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<style>
  .fondo_boton_contacto {
    position: absolute;
    height: auto;
    aspect-ratio: 1/1;
    width: 120%;
    border-radius: 100%;
    z-index: -10;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    background: linear-gradient(90deg, #3ac989 0%, #9747ff 50%, #8cd6f7 100%);
    transition: transform 1000ms;
    will-change: transform;
  }
  #btnEnviarForm:hover > .fondo_boton_contacto,
  #btnEnviarForm:focus > .fondo_boton_contacto {
    transition: transform 1000ms;
    transform: rotate(180deg) translate(50%, 50%);
  }

  .enviado {
    visibility: hidden;
    color: white;
    background-color: #9747ff;
    border-radius: 10px;
    text-align: center;
  }
  .enviado.error {
    background-color: red;
    color: black;
    visibility: visible;
  }
  .enviado.sended {
    background-color: #3ac989;
    color: black;
    visibility: visible;
  }
</style>

<script>
  const formulario = document.getElementById("form");
  const respuesta = document.getElementById("enviado");
  const btnEnviarForm = document.getElementById("btnEnviarForm");

  function enable__form() {
    btnEnviarForm.disabled = false;
    setTimeout(() => {
      respuesta.style.visibility = "hidden";
    }, 10000);
  }
  formulario.addEventListener("submit", function (e) {
    respuesta.textContent = "Enviando Mensaje...";
    respuesta.style.visibility = "visible";
    e.preventDefault();
    btnEnviarForm.disabled = true;
    var datos = new FormData(formulario);
    fetch("post.php", {
      method: "POST",
      body: datos,
    })
      .then((response) => response.json())
      .then((data) => {
        console.log(data);
        respuesta.textContent = data;
        if (data.includes("Error")) {
          respuesta.classList.add("error");
          enable__form();
          setTimeout(() => {
            respuesta.classList.remove("error");
          }, 10000);
        } else {
          respuesta.classList.add("sended");
          formulario.reset();
          enable__form();
          setTimeout(() => {
            respuesta.classList.remove("sended");
          }, 10000);
        }
      })
      .catch(() => {
        respuesta.textContent =
          "Hay fallas en el envio, intente por otra via de contacto";
        respuesta.classList.add("error");
        enable__form();
        setTimeout(() => {
          respuesta.classList.remove("error");
        }, 10000);
      });
  });
</script>
